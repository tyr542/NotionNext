/* ==========================================================================
   9. 目錄區域 (TOC) [極致排版修正]
   ========================================================================== */
/* 1. 外層容器：給一點呼吸空間 */
.notion-table-of-contents,
[class*="notion-table-of-contents"],
.catalog-list,
#toc {
    padding: 10px 0 !important;
    line-height: 1.6 !important; /* 拉開行距 */
}

/* 2. 目錄連結 (單個項目) */
.notion-table-of-contents a,
[class*="notion-table-of-contents"] a,
.toc-link,
.catalog-list-item {
    /* 字體設定：強制黑體 */
    font-family: var(--font-sans) !important;
    font-size: 0.9rem !important;
    font-weight: 400 !important;
    
    /* 顏色：平時是灰色 (你要求的) */
    color: #999999 !important; 
    transition: all 0.2s ease !important;
    
    /* 排版：懸掛縮排 (Hanging Indent) 密技 */
    display: block !important;
    position: relative !important;
    
    /* 關鍵在這裡：左邊先推開 1.5個字寬，第一行再拉回來 1.5個字寬 */
    /* 這樣第二行就會乖乖對齊縮排後的起點 */
    padding-left: 1.5em !important; 
    text-indent: -1.5em !important; 
    
    /* 間距：項目之間拉開 */
    margin-bottom: 10px !important; /* 修正「太擠」 */
    
    /* 強制換行 */
    white-space: normal !important;
    overflow: visible !important;
    text-overflow: clip !important;
    height: auto !important;
}

/* 3. Hover 效果 */
.notion-table-of-contents a:hover,
[class*="notion-table-of-contents"] a:hover,
.toc-link:hover {
    color: var(--color-accent) !important; /* 變強調色 */
    background: transparent !important;
    transform: translateX(4px); /* 微動態：往右滑一點點 */
}

/* 4. 激活狀態 (Active) */
.notion-table-of-contents .active,
.catalog-list-item-active,
.toc-link-active {
    color: var(--color-accent) !important;
    font-weight: 700 !important;
    /* 選中時，左邊加一個小標記 */
    border-left: 2px solid var(--color-accent) !important; 
    /* 因為加了 border，padding 要微調回來一點點 */
    padding-left: calc(1.5em - 2px) !important; 
}

/* ==========================================================================
   10. 目錄標題 (Header) [強制覆寫]
   ========================================================================== */
/* 鎖定目錄容器的第一個 div (通常標題都在這) */
[class*="catalog"] > div:first-child,
[class*="toc"] > div:first-child,
#toc-header {
    /* 字體強制宋體 (Serif) */
    font-family: var(--font-serif) !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    color: var(--text-ink) !important;
    
    /* 加底線區隔 */
    border-bottom: 1px solid rgba(140, 123, 117, 0.2) !important;
    padding-bottom: 8px !important;
    margin-bottom: 16px !important; /* 跟下面的列表拉開距離 */
}

/* 讓前面的 icon (≡) 變色 */
[class*="catalog"] > div:first-child i,
[class*="catalog"] > div:first-child svg,
#toc-header i,
#toc-header svg {
    color: var(--color-accent) !important;
    margin-right: 8px !important;
}
