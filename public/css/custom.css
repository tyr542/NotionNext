/* * -------------------------------------------
 * NotionNext 部落格美學改造 V5 - 權重強化與字體修復
 * -------------------------------------------
 * 專注於提升 CSS 權重 (Specificity)，確保 Max-Width, Nav Bar, Card 樣式能成功覆蓋 NotionNext 預設。
 */

/* =======================================
   色彩主題改造 (Accent Color) - 維持 V4 不變
   ======================================= */
:root, [data-theme="light"] {
    --color-primary: #B25F4C !important;
    --color-primary-hover: #8C473A !important;
    --link-color: #B25F4C !important;
    --link-color-hover: #8C473A !important;
}
[data-theme="dark"] {
    --color-primary: #D19D8C !important;
    --color-primary-hover: #E3B3A2 !important;
    --link-color: #D19D8C !important;
    --link-color-hover: #E3B3A2 !important;
}
.bg-purple-500, .bg-indigo-500 { background-color: var(--color-primary) !important; }
.text-purple-500, .text-indigo-500 { color: var(--color-primary) !important; }
.border-purple-500, .border-indigo-500 { border-color: var(--color-primary) !important; }


/* =======================================
   1. 骨架、字體與留白改造 (全域應用) - 權重強化
   ======================================= */

/* [A] 全域字體與大小修復：針對 body 和最常用的容器進行強化 */
body, 
.notion-article-content, 
.notion-page-detail, 
.notion-article-list, 
.notion-widget, 
.notion-text, 
p {
    /* 字體使用 INTP 喜歡的現代黑體，並使用 !important 強制覆蓋 */
    font-family: "PingFang TC", "Heiti TC", "Microsoft JhengHei", "Noto Sans TC", sans-serif !important;
    /* 字體微縮：從預設的 1rem 調整到 0.95rem */
    font-size: 0.95rem !important; 
    /* 避免 font-weight 失控，確保文字有層次感 */
    font-weight: 400 !important; /* 一般內文確保是標準重量 */
}

/* [B] 內容最大寬度與留白：強化選擇器 */
/* 鎖定 Next.js 應用的主要內容區塊，強制收窄到 720px */
#container .notion-page-detail,
#container .notion-article-list,
#container .notion-article-content,
.notion-page-detail > div:first-child { /* 嘗試目標 NotionNext 內部的 div */
    max-width: 720px !important; 
    margin-left: auto !important; 
    margin-right: auto !important;
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
}

/* [C] 優化行高：解決「硬塞」的擁擠感 */
.notion-text, .notion-page-detail p, .notion-article-content, .notion-article-summary {
    line-height: 1.75 !important; 
    letter-spacing: 0.02em; 
}

/* [D] 標題大小調整 */
h1 { font-size: 2.25rem !important; }
h2 { font-size: 1.6rem !important; }
h3 { font-size: 1.35rem !important; }


/* =======================================
   2. 元件清理與美化 (Nav Bar & 日期格式修復)
   ======================================= */
.notion-nav-header .text-xl.flex, .notion-nav-header .text-2xl.flex, .fixed.right-0.top-0.z-50.bg-white.dark\:bg-black { display: none !important; }
.notion-header-image { display: none !important; }

/* 專門針對 globals.css 的 Nav Bar 覆蓋 - 權重最高級 */
.notion-nav-header, .sticky-nav, .sticky-nav-full {
    box-shadow: 0 1px 10px rgba(0, 0, 0, 0.05) !important; 
    backdrop-filter: blur(8px) !important;
    background-color: rgba(255, 255, 255, 0.95) !important;
    position: sticky !important; top: 0 !important; z-index: 50 !important; 
    border-bottom: none !important;
    height: 4rem !important; padding: 0 1.5rem !important; 
}
[data-theme="dark"] .notion-nav-header, [data-theme="dark"] .sticky-nav, [data-theme="dark"] .sticky-nav-full {
    background-color: rgba(18, 18, 18, 0.95) !important;
    box-shadow: 0 1px 10px rgba(255, 255, 255, 0.08) !important; 
    border-bottom: none !important;
    border-color: transparent !important; /* 確保邊框消失 */
}

/* 程式碼區塊美化 - 讓代碼更INTP */
.notion-code {
    border-radius: 0.5rem !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); 
    padding: 1.2rem !important;
}
[data-theme="dark"] .notion-code {
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1); 
}

/* [F] 日期格式修復：強制隱藏時間部分，只顯示日期 */
.post-date, .notion-latest-post .text-gray-500 {
    font-size: 0.8rem !important; 
    color: #9ca3af !important; 
    margin-top: 0.5rem; 
}
/* 由於日期格式 (e.g., 3:55 AM) 是由 JS 輸出的，CSS 只能隱藏它，或改變其顏色。
   如果 NotionNext 在日期後輸出時間，我們嘗試對其進行樣式分離（如果結構允許）。
   最簡單的修正：如果時間是獨立的 span 或 div，就隱藏它。但目前假設它和日期在一個元素內，
   所以我們只能讓其外觀變得很小且不顯眼。
*/
.notion-latest-post .text-gray-500 span:not(:first-child) {
    display: none !important; /* 嘗試隱藏日期後的額外元素（例如時間） */
}


/* =======================================
   3. 首頁文章列表專屬樣式 - 卡片重構 (維持 V4 不變)
   ======================================= */
/* 列表佈局與側邊欄 */
.notion-article-list {
    display: grid !important; 
    grid-template-columns: 1fr !important;
    gap: 2rem !important; 
    margin-top: 2rem !important;
}
@media (min-width: 1024px) {
    .notion-article-list {
        grid-template-columns: 2fr 1fr !important;
    }
}


/* 卡片通用樣式：無邊框，陰影區隔 */
.post-card, .notion-latest-post > a, .notion-widget-card { 
    border: none !important; 
    padding: 1.5rem !important;
    margin-bottom: 0 !important; 
    border-radius: 0.75rem !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important;
}
/* 懸停效果 */
.post-card:hover, .notion-latest-post > a:hover, .notion-widget-card:hover {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12) !important; 
    transform: translateY(-3px) !important;
}

/* 圖片與文字並排結構 */
@media (min-width: 640px) {
    .post-card-content {
        flex-direction: row !important; 
        align-items: flex-start !important;
    }
}
/* 封面圖片樣式 */
.post-card-cover {
    flex-shrink: 0 !important; 
    width: 150px !important; 
    height: 100px !important; 
    border-radius: 0.5rem !important;
    overflow: hidden !important; 
}
.post-card-cover img {
    border-radius: 0.5rem !important; 
    box-shadow: none !important; 
}
.post-card:hover .post-card-cover img {
    transform: scale(1.05) !important; 
}
